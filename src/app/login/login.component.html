@if((isLoggedIn$ | async)) {
<button
    type="button"
    class="btn btn-primary btn-sm rounded-circle p-4 z-1 start-50 bottom-0 translate-middle rounded-pill position-absolute"
    (click)="logout()"
>
    <fa-icon type="button" [icon]="faSignOut" size="5x"></fa-icon>
</button>
} @else {
<button
    type="button"
    class="btn btn-primary btn-sm rounded-circle p-4 z-1 start-50 bottom-0 translate-middle rounded-pill position-absolute"
    (click)="openModal()"
>
    <fa-icon type="button" [icon]="faUserLarge" size="5x"></fa-icon>
</button>
}
<div class="container">
    <!-- Modal -->
    <div
        class="modal fade"
        id="loginModal"
        tabindex="-1"
        aria-labelledby="loginModalLabel"
        aria-hidden="true"
        #loginModal
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login</h5>
                    <button
                        type="button"
                        class="btn-close"
                        aria-label="Close"
                        (click)="closeModal()"
                    ></button>
                </div>
                <div class="modal-body">
                    <form
                        class="needs-validation"
                        [formGroup]="loginForm"
                        (ngSubmit)="onSubmit()"
                    >
                        @if (errors$ | async) {
                        <div class="alert alert-danger mb-3" role="alert">
                            Please check if your email/password are correct!
                        </div>
                        }
                        <div class="mb-3">
                            <label for="email" class="form-label"
                                >Email address</label
                            >
                            <input
                                type="email"
                                class="form-control"
                                id="email"
                                aria-describedby="emailHelp"
                                formControlName="email"
                            />
                            <div
                                class="invalid-feedback"
                                [style.display]="
                                    email.hasError('email') ? 'block' : 'none'
                                "
                            >
                                This is not a valid email!
                            </div>

                            <div
                                class="invalid-feedback"
                                [style.display]="
                                    email.hasError('required')
                                        ? 'block'
                                        : 'none'
                                "
                            >
                                This field cannot be empty!
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label"
                                >Password</label
                            >
                            <input
                                type="password"
                                class="form-control"
                                id="password"
                                formControlName="password"
                            />
                            <div
                                class="invalid-feedback"
                                [style.display]="
                                    password.hasError('required')
                                        ? 'block'
                                        : 'none'
                                "
                            >
                                This field cannot be empty!
                            </div>
                        </div>
                        <button
                            type="submit"
                            class="btn btn-primary w-100 mb-3"
                            [disabled]="!loginForm.valid"
                        >
                            Submit
                        </button>
                        <button
                            type="button"
                            (click)="closeModal()"
                            class="btn btn-secondary w-100 mb-3"
                        >
                            Cancel
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
